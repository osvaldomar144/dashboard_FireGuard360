<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dashboard FireGuard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      /* Sidebar */
      .sidebar {
        position: fixed;
        top: 0;
        left: -250px;
        height: 100%;
        width: 250px;
        background-color: #343a40;
        padding-top: 20px;
        color: white;
        transition: all 0.3s ease;
      }

      .sidebar a {
        color: white;
        padding: 10px 15px;
        text-decoration: none;
        font-size: 18px;
        display: block;
      }

      .sidebar a:hover {
        background-color: #575757;
      }

      .content {
        margin-left: 0;
        padding: 20px;
        transition: margin-left 0.3s ease;
      }

      .card {
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
      }

      .card-header {
        background-color: #007bff;
        color: white;
      }

      .card-body {
        background-color: #f8f9fa;
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .row {
        margin-top: 30px;
      }

      .btn-custom {
        background-color: #28a745;
        color: white;
        border-radius: 5px;
      }

      .btn-custom:hover {
        background-color: #218838;
      }

      .menu-toggle {
      font-size: 30px;
      color: black; 
      cursor: pointer;
}
    </style>
  </head>
  <body>

    <!-- Menu toggle icon (Hamburger icon) -->
    <div class="menu-toggle" onclick="toggleSidebar()">&#9776; Menu</div>

    <!-- Sidebar (Hidden initially) -->
    <div class="sidebar" id="sidebar">
      <h2 class="text-center text-white">FireGuard</h2>
      <a href="#user">Utenza</a>
      <a href="#dati">Dati Arduino</a>
      <a href="#controlli">Controllo</a>
      <a href="#statistiche">Statistiche</a>
    </div>

    <!-- Main content -->
    <div class="content" id="content">
      <h1 class="text-center mb-5">Dashboard FireGuard</h1>

      <!-- Card for monitoring data -->
      <div id="dati" class="row">
        <!-- Temperature -->
        <div class="col-md-4">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Temperatura</h4>
            </div>
            <div class="card-body text-center">
              <h2 id="temperature">{{ dati[0][1] }}°C</h2>  <!-- Dynamically insert temperature -->
              <p>Temperatura attuale monitorata da Arduino</p>
            </div>
          </div>
        </div>

        <!-- Humidity -->
        <div class="col-md-4">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Umidità</h4>
            </div>
            <div class="card-body text-center">
              <h2 id="humidity">{{ dati[0][2] }}%</h2>  <!-- Dynamically insert humidity -->
              <p>Umidità attuale monitorata da Arduino</p>
            </div>
          </div>
        </div>

        <!-- Smoke -->
        <div class="col-md-4">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Fumo</h4>
            </div>
            <div class="card-body text-center">
              <h2 id="smoke">{{ dati[0][3] }} ppm</h2>  <!-- Dynamically insert smoke level -->
              <p>Fumo attuale rilevato da Arduino</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Card for control -->
      <div id="controlli" class="row">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Controllo Finestra</h4>
            </div>
            <div class="card-body text-center">
              <button class="btn btn-custom">Apri Finestra</button>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Drone di Emergenza</h4>
            </div>
            <div class="card-body text-center">
              <button class="btn btn-custom">Attiva Drone</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Function to toggle sidebar visibility
      function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('content');
        const isVisible = sidebar.style.left === '0px';

        if (isVisible) {
          sidebar.style.left = '-250px'; // Hide sidebar
          content.style.marginLeft = '0'; // Adjust content margin
        } else {
          sidebar.style.left = '0'; // Show sidebar
          content.style.marginLeft = '250px'; // Adjust content margin
        }
      }
    </script>
  </body>
</html>